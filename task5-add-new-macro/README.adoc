= Task 5: Create a Basic Macro

In this task, you'll create a basic macro for Antora and integrate it into the build.

== Learning objectives

- Gain hands-on experience creating basic macros that manipulate content during the build.
- Learn how to use custom macros to add dynamic content, such as generating timestamps or formatting blocks in your docs.

== Steps

. Change into the `custom-doc/` directory and initialize a Git repository:
+
[,bash]
----
cd custom-doc
git init . && git commit --allow-empty -m init
----

. Change into the `task5-add-new-macro/` directory.

. Open the `scripts/hello-macro.js` file and review the simple macro that outputs a greeting message.

. Modify local-antora-playbook.yml to include this macro:
+
[,yaml]
----
asciidoc:
  extensions:
    - ./scripts/hello-macro.js
----

. Open `custom-docs/modules/ROOT/pages/index.adoc` and add a line using the macro:
+
```asciidoc
hello::world[]
```

. Run the build:
+
```bash
npm run build
npm run serve
```

. Verify that the macro correctly outputs "Hello, world!" in the generated documentation.

== Bonus steps

- Extend the macro to accept additional attributes or parameters.
- Test the macro by using it in different parts of your documentation.

== Useful links

- https://docs.asciidoctor.org/asciidoctor.js/latest/extend/extensions/block-macro-processor/