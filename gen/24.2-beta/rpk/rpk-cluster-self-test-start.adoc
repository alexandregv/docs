= rpk cluster self-test start
:description: rpk cluster self-test start

Starts one or more benchmark tests on one or more nodes
of the cluster. Available tests to run:

* Disk tests:
  * Throughput test: 512 KB messages, sequential read/write
    * Uses a larger request message sizes and deeper I/O queue depth to write/read more bytes in a shorter amount of time, at the cost of IOPS/latency.
  * Latency test: 4 KB messages, sequential read/write
    * Uses smaller request message sizes and lower levels of parallelism to achieve higher IOPS and lower latency.

* Network tests:
  * Throughput test: 8192-bit messages
    * Unique pairs of Redpanda nodes each act as a client and a server.
    * The test pushes as much data over the wire, within the test parameters.

* Cloud tests:
  * Latency test: 1024-bit object.
    * Depending on cluster read/write permissions (cloud_storage_enable_remote_read, cloud_storage_enable_remote_write), a series of cloud storage operations are performed:
      * 1. Upload an object to an S3 bucket.
      * 2. List objects in the bucket.
      * 3. Download an object from the bucket.
      * 4. Delete the original object from the bucket, if it was uploaded.


This command immediately returns on success, and the tests run asynchronously. The
user polls for results with the 'self-test status'
command.

== Usage

[,bash]
----
rpk cluster self-test start [flags]
----

== Flags

[cols="1m,1a,2a"]
|===
|*Value* |*Type* |*Description*

|--cloud-backoff-ms |- |uint       The backoff in milliseconds for a cloud storage request (default 100).

|--cloud-timeout-ms |- |uint       The timeout in milliseconds for a cloud storage request (default 5000).

|--disk-duration-ms |duration |uint       The  in milliseconds of individual disk test runs (default 30000).

|-h, --help |- |Help for start.

|--network-duration-ms |duration |uint    The  in milliseconds of individual network test runs (default 30000).

|--no-confirm |- |Acknowledge warning prompt skipping read from stdin.

|--only-cloud-test |- |Runs only cloud storage benchmarks.

|--only-disk-test |- |Runs only the disk benchmarks.

|--only-network-test |- |Runs only network benchmarks.

|--participant-node-ids |- |ints   IDs of nodes that the tests will run on. If not set, tests will run for all node IDs.

|--config |string |Redpanda or rpk config file; default search paths are `/var/lib/redpanda/.config/rpk/rpk.yaml`, `$PWD/redpanda.yaml`, and `/etc/redpanda/redpanda.yaml`.

|-X, --config-opt |stringArray |Override rpk configuration settings; '-X help' for detail or '-X list' for terser detail.

|--profile |string |rpk profile to use.

|-v, --verbose |- |Enable verbose logging.
|===