= Cloud Configuration Properties 
:description: Cloud configuration properties list. 

Cloud properties intro

== Cloud

=== cloud_storage_access_key

AWS access key.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `user`

*Type:* string

*Default:* `null`

---

=== cloud_storage_api_endpoint

Optional API endpoint.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `user`

*Type:* string

*Default:* `null`

---

=== cloud_storage_api_endpoint_port

TLS port override.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `user`

*Type:* integer

*Accepted values:* [`-32768`, `32767`]

*Default:* `443`

---

=== cloud_storage_bucket

AWS bucket that should be used to store data.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `user`

*Type:* string

*Default:* `null`

---

=== cloud_storage_cache_check_interval_ms

Timeout to check if cache eviction should be triggered.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `30s`

---

=== cloud_storage_cache_directory

Directory for archival cache. Should be present when `cloud_storage_enabled` is present.

*Requires Restart:* Yes

*Nullable:* Yes

*Visibility:* `user`

*Type:* string

*Default:* `null`

---

=== cloud_storage_cache_size

Max size of archival cache.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `user`

*Type:* integer

*Default:* `21474836480`

---

=== cloud_storage_credentials_host

The hostname to connect to for retrieving role based credentials. Derived from cloud_storage_credentials_source if not set. Only required when using IAM role based access.

*Requires Restart:* Yes

*Nullable:* Yes

*Visibility:* `tunable`

*Type:* string

*Default:* `null`

---

=== cloud_storage_credentials_source

The source of credentials to connect to cloud services.

*Requires Restart:* Yes

*Nullable:* No

*Visibility:* `user`

*Default:* `model::cloud_credentials_source::config_file`

---

=== cloud_storage_disable_tls

Disable TLS for all S3 connections.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `user`

*Type:* boolean

*Default:* `false`

---

=== cloud_storage_enable_compacted_topic_reupload

Enable re-uploading data for compacted topics.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* boolean

*Default:* `true`

---

=== cloud_storage_enable_remote_read

Default remote read config value for new topics.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* boolean

*Default:* `false`

---

=== cloud_storage_enable_remote_write

Default remote write value for new topics.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* boolean

*Default:* `false`

---

=== cloud_storage_enabled

Enable archival storage.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `user`

*Type:* boolean

*Default:* `false`

---

=== cloud_storage_housekeeping_interval_ms

Interval for cloud storage housekeeping tasks.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `5min`

---

=== cloud_storage_initial_backoff_ms

Initial backoff time for exponetial backoff algorithm (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `100ms`

---

=== cloud_storage_manifest_upload_timeout_ms

Manifest upload timeout (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `10s`

---

=== cloud_storage_max_connection_idle_time_ms

Max https connection idle time (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `5s`

---

=== cloud_storage_max_connections

Max number of simultaneous connections to S3 per shard (includes connections used for both uploads and downloads).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `user`

*Type:* integer

*Accepted values:* [`-32768`, `32767`]

*Default:* `20`

---

=== cloud_storage_max_materialized_segments_per_shard

Maximum concurrent readers of remote data per CPU core.  If unset, value of `topic_partitions_per_shard` multiplied by 2 is used.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`0`, `4294967295`]

*Default:* `null`

---

=== cloud_storage_max_readers_per_shard

Maximum concurrent readers of remote data per CPU core.  If unset, value of `topic_partitions_per_shard` is used, i.e. one reader per partition if the shard is at its maximum partition capacity.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`0`, `4294967295`]

*Default:* `null`

---

=== cloud_storage_max_segments_pending_deletion_per_partition

The per-partition limit for the number of segments pending deletion from the cloud. Segments can be deleted due to retention or compaction. If this limit is breached and deletion fails, then segments will be orphaned in the cloud and will have to be removed manually.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Default:* `5000`

---

=== cloud_storage_metadata_sync_timeout_ms

Timeout for SI metadata synchronization.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `10s`

---

=== cloud_storage_readreplica_manifest_sync_timeout_ms

Timeout to check if new data is available for partition in S3 for read replica.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `30s`

---

=== cloud_storage_reconciliation_ms

Interval at which the archival service runs reconciliation (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `1s`

---

=== cloud_storage_region

AWS region that houses the bucket used for storage.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `user`

*Type:* string

*Default:* `null`

---

=== cloud_storage_roles_operation_timeout_ms

Timeout for IAM role related operations (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `30s`

---

=== cloud_storage_secret_key

AWS secret key.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `user`

*Type:* string

*Default:* `null`

---

=== cloud_storage_segment_max_upload_interval_sec

Time that segment can be kept locally without uploading it to the remote storage (sec).

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17179869184`, `17179869183`]

*Default:* `null`

---

=== cloud_storage_segment_upload_timeout_ms

Log segment upload timeout (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `30s`

---

=== cloud_storage_trust_file

Path to certificate that should be used to validate server certificate during TLS handshake.

*Requires Restart:* No

*Nullable:* Yes

*Visibility:* `user`

*Type:* string

*Default:* `null`

---

=== cloud_storage_upload_ctrl_d_coeff

Derivative coefficient for upload PID controller.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* number

*Default:* `0.0`

---

=== cloud_storage_upload_ctrl_max_shares

Maximum number of IO and CPU shares that archival upload can use.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-32768`, `32767`]

*Default:* `1000`

---

=== cloud_storage_upload_ctrl_min_shares

Minimum number of IO and CPU shares that archival upload can use.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-32768`, `32767`]

*Default:* `100`

---

=== cloud_storage_upload_ctrl_p_coeff

Proportional coefficient for upload PID controller.

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* number

*Default:* `-2.0`

---

=== cloud_storage_upload_loop_initial_backoff_ms

Initial backoff interval when there is nothing to upload for a partition (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `100ms`

---

=== cloud_storage_upload_loop_max_backoff_ms

Max backoff interval when there is nothing to upload for a partition (ms).

*Requires Restart:* No

*Nullable:* No

*Visibility:* `tunable`

*Type:* integer

*Accepted values:* [`-17592186044416`, `17592186044415`]

*Default:* `10s`

---

